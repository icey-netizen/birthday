<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Tasha! âœ¨</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’–</text></svg>">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="confetti-container"></div>

    <div class="music-controller" onclick="playFullBirthdaySong()">
        <div id="music-disk" class="music-disk">ğŸˆ</div>
        <span id="music-status" class="music-label">Music On</span>
    </div>

    <header class="hero">
        <div class="hero-content">
            <h1 class="bounce">Happy Birthday, Tasha! ğŸ‚</h1>
            <p class="subtitle">To the girl who makes the world sparklier just by being in it.</p>
            <button class="surprise-btn" onclick="handleStartExperience()">Tap Here ğŸ’–</button>
        </div>
    </header>

    <section class="interactive-zone">
        <div class="scratch-card" onclick="this.classList.add('revealed')">
            <div class="scratch-cover"> âœ¨</div>
            <div class="scratch-content">
                <h3>My wish for you: May your year be as bright and beautiful as your smile! ğŸˆ</h3>
            </div>
        </div>
    </section>

    <section class="lovely-message">
        <div class="message-card">
            <div class="card-inner">
                <h2>To the wonderful Tasha... âœ¨</h2>
                <p>They say that some people just have a way of making the world a little brighter, and you are definitely one of them. Your kindness, your laugh, and your beautiful spirit are gifts to everyone lucky enough to know you.</p>
                <p>Today, I hope you feel as loved as you make everyone else feel. May your year be filled with big dreams, small joys, and all the magic you deserve.</p>
                <p class="closing">Keep shining, Tasha. Youâ€™re one of a kind.</p>
                <p class="signature">Happy Birthday! ğŸˆ</p>
            </div>
        </div>
    </section>

    <section class="gallery">
        <h2>âœ¨ MemoriesğŸ¥¹ âœ¨</h2>
        <div class="photo-grid">
            <div class="photo-card"><img src="assets/pics/pic1.jpeg" alt="Tasha"><p class="caption">Simply stunning ğŸŒ¸</p></div>
            <div class="photo-card"><img src="assets/pics/pic2.jpeg" alt="Tasha"><p class="caption">Pure magic âœ¨</p></div>
            <div class="photo-card"><img src="assets/pics/pic3.jpeg" alt="Tasha"><p class="caption"></p>That smile! ğŸ˜</div>
            <div class="photo-card"><img src="assets/pics/pic4.jpeg" alt="Tasha"><p class="caption">My favorite person ğŸ’–</p></div>
        </div>
    </section>

    <div id="message-overlay" class="overlay">
        <div class="overlay-content">
            <h2>Surprise! ğŸ€</h2>
            <p>Youâ€™re not just a year older, youâ€™re a year more amazing. <br> May this year be your best adventure yet!"Goodluck ukipanga kusneak kwenuğŸ˜…ğŸ˜…"</p>
            <button class="close-btn" onclick="closeSurprise()">You're the best! âœ¨</button>
        </div>
    </div>

    <footer>
        <p>Made with ğŸ’– for Tasha.  # Najua Bado haijafika. I've made this just incase ipite bila mmi kujua and also kukumbusha bado nakupenda 'as a friend' ofc. Have a nice day and goodluck ukirudi shule</p>
    </footer>

    <script>
        let audioCtx;
        let isPlaying = false;

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function handleStartExperience() {
            triggerSurprise();
            playFullBirthdaySong();
        }

        function playCrystalNote(freq, startTime, duration) {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.frequency.setValueAtTime(freq, startTime);
            gain.gain.setValueAtTime(0, startTime);
            gain.gain.linearRampToValueAtTime(0.1, startTime + 0.05);
            gain.gain.exponentialRampToValueAtTime(0.0001, startTime + duration);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start(startTime);
            osc.stop(startTime + duration);
        }

        function playFullBirthdaySong() {
            initAudio();
            if (audioCtx.state === 'suspended') audioCtx.resume();
            if (isPlaying) return; 
            isPlaying = true;
            document.getElementById('music-disk').classList.add('spinning');
            
            function runSequence() {
                if (!isPlaying) return;
                const now = audioCtx.currentTime;
                const tempo = 0.6; 
                const melody = [
                    {f: 392.00, t: 0}, {f: 392.00, t: 0.5}, {f: 440.00, t: 1}, {f: 392.00, t: 2}, {f: 523.25, t: 3}, {f: 493.88, t: 4},
                    {f: 392.00, t: 6}, {f: 392.00, t: 6.5}, {f: 440.00, t: 7}, {f: 392.00, t: 8}, {f: 587.33, t: 9}, {f: 523.25, t: 10},
                    {f: 392.00, t: 12}, {f: 392.00, t: 12.5}, {f: 783.99, t: 13}, {f: 659.25, t: 14}, {f: 523.25, t: 15}, {f: 493.88, t: 16}, {f: 440.00, t: 17},
                    {f: 698.46, t: 19}, {f: 698.46, t: 19.5}, {f: 659.25, t: 20}, {f: 523.25, t: 21}, {f: 587.33, t: 22}, {f: 523.25, t: 23}
                ];
                melody.forEach(note => {
                    const start = now + (note.t * tempo);
                    playCrystalNote(note.f, start, 2.5);
                    playCrystalNote(note.f * 1.5, start + 0.02, 1.5);
                });
                setTimeout(runSequence, 16000); 
            }
            runSequence();
        }

        function triggerSurprise() {
            document.getElementById('message-overlay').style.display = 'flex';
            for(let i = 0; i < 40; i++) {
                setTimeout(createFallingHeart, i * 100);
            }
        }

        function closeSurprise() {
            document.getElementById('message-overlay').style.display = 'none';
        }

        function createFallingHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-burst');
            heart.innerHTML = ['ğŸ’–', 'âœ¨', 'ğŸŒ¸', 'ğŸ‚'][Math.floor(Math.random() * 4)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }
    </script>
</body>
</html>
